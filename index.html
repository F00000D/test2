<!DOCTYPE html>
<html lang="zh-Hant">
<head>
  <meta charset="UTF-8" />
  <title>食在中原</title>
  <style>
    body { font-family: Arial; text-align: center; margin: 0; }
    h1 { color: #ff5722; }
    input { padding: 10px; width: 250px; border-radius: 20px; }
    .cards {
      display: grid;
      grid-template-columns: repeat(auto-fill, minmax(220px,1fr));
      gap: 16px;
      padding: 16px;
    }
    .card {
      cursor: pointer;
      border-radius: 16px;
      box-shadow: 0 4px 10px rgba(0,0,0,.1);
      overflow: hidden;
    }
    img { width: 100%; height: 150px; object-fit: cover; }
    .info { padding: 10px; text-align: left; }
  </style>
</head>

<body>
  <h1>食在中原</h1>
  <p>關於中原附近的美食餐廳</p>

  <input id="search" placeholder="搜尋餐廳或類型" />

  <div id="cards" class="cards"></div>

  <script>
    // ✅ 模擬 API（之後直接換成 fetch(API_URL)）
    async function fetchStores() {
      return [
        { id: 1, name: "慕森", type: "早午餐", image: "https://linnote.com/wp-content/uploads/2024/03/zhongli-musen-brunch-8.webp" },
        { id: 2, name: "Mint Pasta", type: "義式料理", image: "https://weiyu-life.com/wp-content/uploads/mint-21.jpg" },
        { id: 3, name: "美焦咖啡", type: "咖啡廳", image: "https://www.masterpon.com/wp-content/uploads/meichiao1.jpg" }
      ]
    }

    let stores = []

    function render(list) {
      const box = document.getElementById("cards")
      box.innerHTML = ""
      list.forEach(s => {
        const card = document.createElement("div")
        card.className = "card"
        card.onclick = () => {
          location.href = `detail.html?id=${s.id}`
        }
        card.innerHTML = `
          <img src="${s.image}">
          <div class="info">
            <h3>${s.name}</h3>
            <p>${s.type}</p>
          </div>
        `
        box.appendChild(card)
      })
    }

    document.getElementById("search").addEventListener("input", e => {
      const k = e.target.value
      render(stores.filter(s => s.name.includes(k) || s.type.includes(k)))
    })

    fetchStores().then(data => {
      stores = data
      render(stores)
    })
  </script>
</body>
</html>
